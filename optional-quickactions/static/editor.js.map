{"version":3,"file":null,"sources":["../src/views/list.js","../src/views/editaction.js","../src/model/editaction.js","../src/model/list.js","../src/editor.js"],"sourcesContent":["const {React} = Serverboards\nconst random_color = Serverboards.utils.random_color\n\nfunction find_service(service_id, services){\n  return services.find(s => s.uuid == service_id) || {name: service_id}\n}\n\nfunction Action(props){\n  const a = props.action\n  return (\n    <div className=\"column\" data-tooltip={a.description}>\n      <a onClick={() => props.onRunAction(a)} className={`ui big top attached button ${random_color(a.service || \"a\")} labeled icon`}>\n        {a.icon ? (\n          <i className={`ui icon ${a.icon}`}/>\n        ) : null}\n        {a.name}\n      </a>\n      <a onClick={() => props.onConfigureAction(a)} className=\"ui bottom attached icon button\" style={{maxWidth: \"3em\", display: \"inline-block\"}}>\n        <i className=\"ui icon settings\"/>\n      </a>\n      {a.service ? (\n        <span style={{paddingLeft: 10}}>{find_service(a.service, props.services).name}</span>\n      ) : null}\n    </div>\n  )\n}\n\nfunction View(props){\n  const actions = (props.actions || []).sort( (a,b) => a.name.localeCompare(b.name) )\n  return (\n    <div>\n      <div className=\"ui top header menu\">\n        <h4>Actions</h4>\n      </div>\n      <div className=\"ui container\" style={{paddingTop: 30}}>\n        <div className=\"ui four column grid stackable\">\n          {(actions || []).map( (a) => (\n            <Action key={a.id} action={a} {...props}/>\n          ))}\n        </div>\n      </div>\n      <a onClick={props.onOpenAddAction} className=\"ui massive button _add icon floating yellow\">\n        <i className=\"add icon\"></i>\n      </a>\n    </div>\n  )\n}\n\nexport default View\n","const React = Serverboards.React\nconst {GenericForm} = Serverboards.Components\n\nconst EditAction = React.createClass({\n  componentDidMount(){\n    $(this.refs.form).find('.dropdown').dropdown()\n    $(this.refs.form).find('.checkbox').checkbox()\n  },\n  render(){\n    const props=this.props\n    const action = props.action\n    return (\n      <div>\n        <div className=\"ui header menu top\">\n          <h4>Edit action</h4>\n        </div>\n\n        <div className=\"ui container\">\n          <div className=\"ui form\" ref=\"form\">\n            <div className=\"field\">\n              <label>Name</label>\n              <input type=\"text\" defaultValue={action.name} onChange={(ev) => props.onUpdateName(ev.target.value)}/>\n            </div>\n            <div className=\"field\">\n              <label>Description</label>\n              <textarea onChange={(ev) => props.onUpdateDescription(ev.target.value)}>{action.description}</textarea>\n            </div>\n            <div className=\"field ui checkbox\">\n              <input type=\"checkbox\" defaultChecked={action.confirmation}  onChange={(ev) => props.onUpdateConfirmation(ev.target.value)}/>\n              <label>Require confirmation</label>\n            </div>\n            <div className=\"field\">\n              <label>Service</label>\n              <select className=\"ui dropdown search\" defaultValue={action.service} onChange={(ev) => props.onServiceChange(ev.target.value)}>\n                <option value=\".\">No service selected</option>\n                {props.services.map( (s) => (\n                  <option key={s.uuid} value={s.uuid}>{s.name}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"field\">\n              <label>Action</label>\n              <select className=\"ui dropdown search\" defaultValue={action.action} onChange={(ev) => props.onActionChange(ev.target.value)}>\n                <option value=\".\">No action selected</option>\n                {props.actions.map( (s) => (\n                  <option key={s.id} value={s.id}>{s.name}</option>\n                ))}\n              </select>\n            </div>\n            <GenericForm fields={props.form_fields} data={action.params} updateForm={props.onUpdateActionParams}/>\n          </div>\n\n          <div className=\"ui buttons\" style={{marginTop: 30}}>\n            <button onClick={props.onAccept} className=\"ui yellow button\">Update quick action</button>\n            <button onClick={props.onClose} className=\"ui grey button\">Cancel</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n})\n\nexport default EditAction\n","const {React, cache} = Serverboards\nimport View from '../views/editaction'\nconst {Loading} = Serverboards.Components\nconst merge = Serverboards.utils.merge\n\nconst EditActionModel = React.createClass({\n  getInitialState(){\n    console.log(this)\n    const services = this.props.services\n    const service_id = this.props.action.service\n    const service = services.find( (s) => s.uuid == service_id )\n\n    return {\n      actions: undefined,\n      services,\n      action: merge(this.props.action, {}),\n      action_template: undefined,\n      service,\n      form_fields: [],\n    }\n  },\n  componentDidMount(){\n    const self = this\n    cache.action_catalog().then( actions => {\n      const action_id = self.props.action.action\n      const action_template=actions.find( ac => ac.id == action_id )\n      self.setState({ actions, action_template })\n      return action_template\n    }).then( (action_template) => {\n      self.updateFormFields(action_template, this.state.service)\n    })\n  },\n  handleActionChange(action_id){\n    const action_template = this.findActionTemplate(action_id)\n    this.setState({action_template, action: merge(this.state.action, {action: action_id})})\n    this.updateFormFields(action_template, this.state.service)\n  },\n  updateFormFields(action_template, service){\n    if (!action_template)\n      this.setState({form_fields: []})\n    else{\n      let form_fields = action_template.extra.call.params\n\n      if (service != undefined){\n        const service_params = service.fields.map( (f) => f.name )\n        form_fields = form_fields.filter( (p) => service_params.indexOf(p.name)<0 )\n      }\n      this.setState({form_fields})\n    }\n  },\n  handleServiceChange(service_id){\n    const service = this.findService(service_id)\n    this.setState({service, action: merge(this.state.action, {service: service_id})})\n    this.updateFormFields(this.state.action_template, service)\n  },\n  findActionTemplate(action_id){\n    return this.state.actions.find( ac => ac.id == action_id )\n  },\n  findService(service_id){\n    return this.state.services.find( (s) => s.uuid == service_id )\n  },\n  handleAcceptChanges(){\n    console.log(this.state.action)\n    this.props.onAccept(this.state.action)\n  },\n  updateAction(changes){\n    this.setState({action: merge(this.state.action, changes)})\n  },\n  render(){\n    if (!this.state.actions || !this.state.services)\n      return (\n        <Loading>Actions and services</Loading>\n      )\n    return (\n      <View {...this.state} {...this.props}\n        onActionChange={this.handleActionChange}\n        onServiceChange={this.handleServiceChange}\n        onUpdateActionParams={(params) => this.updateAction({params})}\n        onAccept={this.handleAcceptChanges}\n        onUpdateDescription={(description) => this.updateAction({description})}\n        onUpdateName={(name) => this.updateAction({name})}\n        onUpdateConfirmation={(confirmation) => this.updateAction({confirmation})}\n        />\n    )\n  }\n})\n\nexport default EditActionModel\n","const {React, plugin, Flash} = Serverboards\nimport View from '../views/list'\nimport EditAction from './editaction'\nconst {Modal} = Serverboards.Components.Modal\nconst {merge} = Serverboards.utils\n\nconst extra={\n  actions: [\n    { id: 1, action: \"serverboards.core.actions/webhook.call\", description: \"This is a description\", params: { url: \"https://serverboards.io\" }, name: \"Call serverboards.io\", confirmation: false },\n    { id: 2, action: \"serverboards.core.ssh/exec\", params: { command: \"service nginx restart\" }, name: \"Restart NGINX\", service: \"b3fc12ee-cecd-4cf0-b10f-760630478fd7\", confirmation: true, icon: \"play\" },\n    { id: 3, action: \"serverboards.core.ssh/exec\", params: { command: \"reboot\" }, name: \"Restart\", service: \"fcdfdf22-1ac6-4baa-81ad-d5ac94308b72\", confirmation: true, icon: \"undo\", description: \"Reboots the server.\" },\n    { id: 4, action: \"serverboards.core.ssh/exec\", params: { command: \"halt\" }, name: \"Halt\", service: \"b3fc12ee-cecd-4cf0-b10f-760630478fd7\", confirmation: true, icon: \"stop\" },\n    { id: 5, action: \"serverboards.core.ssh/exec\", params: { command: \"dnf update -y\" }, name: \"Update\", service: \"b3fc12ee-cecd-4cf0-b10f-760630478fd7\", confirmation: true, icon: \"paint brush\" },\n    { id: 6, action: \"serverboards.core.actions/webhook.call\", params: { url: \"https://serverboards.io\" }, name: \"Call serverboards.io\", confirmation: false },\n    { id: 7, action: \"serverboards.core.ssh/exec\", params: { command: \"service nginx restart\" }, name: \"Restart NGINX\", service: \"b3fc12ee-cecd-4cf0-b10f-760630478fd7\", confirmation: true },\n    { id: 8, action: \"serverboards.core.ssh/exec\", params: { command: \"reboot\" }, name: \"Restart\", service: \"fcdfdf22-1ac6-4baa-81ad-d5ac94308b72\", confirmation: true },\n    { id: 9, action: \"serverboards.core.ssh/exec\", params: { command: \"halt\" }, name: \"Halt\", service: \"fcdfdf22-1ac6-4baa-81ad-d5ac94308b72\", confirmation: true },\n    { id: 10, action: \"serverboards.core.ssh/exec\", params: { command: \"dnf update -y\" }, name: \"Update\", service: \"b3fc12ee-cecd-4cf0-b10f-760630478fd7\", confirmation: true },\n    { id: 11, action: \"serverboards.core.actions/webhook.call\", params: { url: \"https://serverboards.io\" }, name: \"Call serverboards.io\", confirmation: false },\n    { id: 12, action: \"serverboards.core.ssh/exec\", params: { command: \"service nginx restart\" }, name: \"Restart NGINX\", service: \"3db4e1d1-4ce9-44ac-9b4e-2d27a9a65275\", confirmation: true },\n    { id: 13, action: \"serverboards.core.ssh/exec\", params: { command: \"reboot\" }, name: \"Restart\", service: \"3db4e1d1-4ce9-44ac-9b4e-2d27a9a65275\", confirmation: true },\n    { id: 14, action: \"serverboards.core.ssh/exec\", params: { command: \"halt\" }, name: \"Halt\", service: \"b3fc12ee-cecd-4cf0-b10f-760630478fd7\", confirmation: true },\n    { id: 15, action: \"serverboards.core.ssh/exec\", params: { command: \"dnf update -y\" }, name: \"Update\", service: \"3db4e1d1-4ce9-44ac-9b4e-2d27a9a65275\", confirmation: true },\n  ],\n  empty_action: {\n    id: undefined,\n    action: undefined,\n    description: \"\",\n    params: {  },\n    name: \"\",\n    confirmation: false\n  },\n}\nconst ListModel=React.createClass({\n  getInitialState(){\n    return {\n      edit: undefined,\n      actions: undefined\n    }\n  },\n  componentDidMount(){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"list_actions\", {}).then( actions => {\n      console.log(\"got actions: %o\", actions)\n      this.setState({actions})\n    })\n  },\n  handleRunAction(a){\n    if (a.confirmation){\n      if (!confirm(a.name + \"\\n\\n\" + (a.description || a.confirm || \"Are you sure?\")))\n        return;\n    }\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"run_action\", [a.id]).then( () => {\n      Flash.info(\"Sucefully run action \"+a.name)\n    }).catch( e => Flash.error(e) )\n  },\n  handleConfigureAction(a){\n    this.setState({edit: a})\n  },\n  handleAcceptEditAction(a){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"update_action\", [a]).then( (id) => {\n      const actions = this.state.actions.map( (ac) => {\n        if (ac.id == a.id){\n          return a\n        }\n        return ac\n      })\n      this.setState({edit: undefined, actions})\n      Flash.info(\"Action updated\")\n    }).catch( e => Flash.error(e) )\n  },\n  handleCloseEditAction(){\n    this.setState({edit: undefined})\n  },\n  handleOpenAddAction(){\n    this.setState({edit: \"add\"})\n  },\n  handleAcceptAddAction(a){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"add_action\", [a]).then( (id) => {\n      Flash.info(\"Action added\")\n      this.setState({actions: this.state.actions.concat(merge(a, {id})), edit: undefined})\n    }).catch( e => Flash.error(e) )\n  },\n  render(){\n    if (this.state.edit){\n      if (this.state.edit==\"add\")\n        return (\n          <EditAction action={extra.empty_action} onAccept={this.handleAcceptAddAction} services={this.props.services} onClose={this.handleCloseEditAction}/>\n        )\n      else\n        return (\n          <EditAction action={this.state.edit} onAccept={this.handleAcceptEditAction} services={this.props.services} onClose={this.handleCloseEditAction}/>\n        )\n    }\n    return (\n      <View {...this.props} {...this.state}\n        onRunAction={this.handleRunAction}\n        onConfigureAction={this.handleConfigureAction}\n        onOpenAddAction={this.handleOpenAddAction}\n        />\n    )\n  }\n})\n\nexport default ListModel\n","const {rpc, React} = Serverboards\nlet plugin_id=\"serverboards.optional.quickactions\"\nimport ActionList from './model/list'\n\nfunction View(props){\n  return (\n    <ActionList serverboard={props.serverboard.shortname} services={props.serverboard.services}/>\n  )\n}\n\nfunction main(el, config){\n  Serverboards.ReactDOM.render(<View {...config}/>, el)\n  plugin_id = config.plugin\n\n  console.log(config)\n  return function(){\n    Serverboards.ReactDOM.unmountComponentAtNode(el)\n  }\n}\n\nServerboards.add_screen(`${plugin_id}/editor`, main)\n"],"names":["Serverboards","React","random_color","utils","service_id","services","find","uuid","name","props","action","a","description","onRunAction","service","icon","onConfigureAction","maxWidth","display","paddingLeft","find_service","actions","sort","b","localeCompare","paddingTop","map","id","onOpenAddAction","GenericForm","Components","EditAction","createClass","componentDidMount","$","refs","form","dropdown","checkbox","render","ev","onUpdateName","target","value","onUpdateDescription","confirmation","onUpdateConfirmation","onServiceChange","s","onActionChange","form_fields","params","onUpdateActionParams","marginTop","onAccept","onClose","cache","Loading","merge","EditActionModel","getInitialState","console","log","action_template","self","action_catalog","then","action_id","setState","updateFormFields","state","handleActionChange","findActionTemplate","extra","call","fields","f","filter","p","indexOf","handleServiceChange","findService","handleAcceptChanges","updateAction","changes","View","plugin","Flash","url","command","empty_action","ListModel","edit","start_call_stop","handleRunAction","confirm","info","catch","error","e","handleConfigureAction","handleAcceptEditAction","ac","handleCloseEditAction","handleOpenAddAction","handleAcceptAddAction","concat","rpc","plugin_id","ActionList","serverboard","shortname","el","config","ReactDOM","unmountComponentAtNode","add_screen","main"],"mappings":"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"}