{"version":3,"file":null,"sources":["../src/views/list.js","../src/views/editaction.js","../src/model/editaction.js","../src/model/list.js","../src/editor.js"],"sourcesContent":["const {React} = Serverboards\nconst random_color = Serverboards.utils.random_color\n\nfunction find_service(service_id, services){\n  return services.find(s => s.uuid == service_id) || {name: service_id}\n}\n\nfunction Action(props){\n  const a = props.action\n  return (\n    <div className=\"column\" data-tooltip={a.description}>\n      <a onClick={() => props.onRunAction(a)} className={`ui big top attached button ${random_color(a.service || \"a\")} labeled icon`}>\n        {a.icon ? (\n          <i className={`ui icon ${a.icon}`}/>\n        ) : null}\n        {a.name}\n      </a>\n      <a onClick={() => props.onConfigureAction(a)} className=\"ui bottom attached icon button\" style={{maxWidth: \"3em\", display: \"inline-block\"}}>\n        <i className=\"ui icon settings\"/>\n      </a>\n      {a.service ? (\n        <span style={{paddingLeft: 10}}>{find_service(a.service, props.services).name}</span>\n      ) : null}\n    </div>\n  )\n}\n\nfunction View(props){\n  const actions = (props.actions || []).sort( (a,b) => a.name.localeCompare(b.name) )\n  return (\n    <div>\n      <div className=\"ui top header menu\">\n        <h4>Actions</h4>\n      </div>\n      <div className=\"ui container\" style={{paddingTop: 30}}>\n        <div className=\"ui four column grid stackable\">\n          {(actions || []).map( (a) => (\n            <Action key={a.id} action={a} {...props}/>\n          ))}\n        </div>\n      </div>\n      <a onClick={props.onOpenAddAction} className=\"ui massive button _add icon floating yellow\">\n        <i className=\"add icon\"></i>\n      </a>\n    </div>\n  )\n}\n\nexport default View\n","const React = Serverboards.React\nconst {GenericForm} = Serverboards.Components\n\nconst EditAction = React.createClass({\n  componentDidMount(){\n    let self = this\n    $(this.refs.star).checkbox({\n      onChecked(){\n        self.props.onStar(true)\n      },\n      onUnchecked(){\n        self.props.onUpdateConfirmation(false)\n      }\n    })\n    $(this.refs.confirmation).checkbox({\n      onChecked(){\n        self.props.onUpdateConfirmation(true)\n      },\n      onUnchecked(){\n        self.props.onUpdateConfirmation(false)\n      }\n    })\n    $(this.refs.form).find('.dropdown').dropdown()\n  },\n  render(){\n    const props=this.props\n    const action = props.action\n    return (\n      <div>\n        <div className=\"ui header menu top\">\n          <h4>Edit action</h4>\n        </div>\n\n        <div className=\"ui container\">\n          <div className=\"ui form\" ref=\"form\">\n            <div className=\"field\">\n              <label>Name</label>\n              <input type=\"text\" defaultValue={action.name} onChange={(ev) => props.onUpdateName(ev.target.value)}/>\n            </div>\n            <div className=\"field\">\n              <label>Description</label>\n              <textarea onChange={(ev) => props.onUpdateDescription(ev.target.value)}>{action.description}</textarea>\n            </div>\n            <div ref=\"confirmation\" className=\"field ui checkbox\">\n              <input type=\"checkbox\" defaultChecked={action.confirmation}  onChange={(ev) => props.onUpdateConfirmation(ev.target.value)}/>\n              <label>Require confirmation</label>\n            </div>\n            <div ref=\"star\" className=\"field ui checkbox\">\n              <input type=\"checkbox\" defaultChecked={action.star}  onChange={(ev) => props.onStar(ev.target.value)}/>\n              <label>Show at widget</label>\n            </div>\n            <div className=\"field\">\n              <label>Icon Name</label>\n              <div className=\"ui meta\">Check for icons at <a target=\"_blank\" href=\"http://semantic-ui.com/elements/icon.html\">{\"http://semantic-ui.com/elements/icon.html\"}</a></div>\n              <input type=\"text\" defaultValue={action.icon} onChange={(ev) => props.onUpdateIcon(ev.target.value)}/>\n            </div>\n            <div className=\"field\">\n              <label>Service</label>\n              <select className=\"ui dropdown search\" defaultValue={action.service} onChange={(ev) => props.onServiceChange(ev.target.value)}>\n                <option value=\".\">No service selected</option>\n                {props.services.map( (s) => (\n                  <option key={s.uuid} value={s.uuid}>{s.name}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"field\">\n              <label>Action</label>\n              <select className=\"ui dropdown search\" defaultValue={action.action} onChange={(ev) => props.onActionChange(ev.target.value)}>\n                <option value=\".\">No action selected</option>\n                {props.actions.map( (s) => (\n                  <option key={s.id} value={s.id}>{s.name}</option>\n                ))}\n              </select>\n            </div>\n            <GenericForm fields={props.form_fields} data={action.params} updateForm={props.onUpdateActionParams}/>\n          </div>\n\n          <div className=\"ui buttons\" style={{marginTop: 30}}>\n            <button onClick={props.onAccept} className=\"ui yellow button\">Update quick action</button>\n            <button onClick={props.onClose} className=\"ui grey button\">Cancel</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n})\n\nexport default EditAction\n","const {React, cache} = Serverboards\nimport View from '../views/editaction'\nconst {Loading} = Serverboards.Components\nconst merge = Serverboards.utils.merge\n\nconst EditActionModel = React.createClass({\n  getInitialState(){\n    console.log(this)\n    const services = this.props.services\n    const service_id = this.props.action.service\n    const service = services.find( (s) => s.uuid == service_id )\n\n    return {\n      actions: undefined,\n      services,\n      action: merge(this.props.action, {}),\n      action_template: undefined,\n      service,\n      form_fields: [],\n    }\n  },\n  componentDidMount(){\n    const self = this\n    cache.action_catalog().then( actions => {\n      const action_id = self.props.action.action\n      const action_template=actions.find( ac => ac.id == action_id )\n      self.setState({ actions, action_template })\n      return action_template\n    }).then( (action_template) => {\n      self.updateFormFields(action_template, this.state.service)\n    })\n  },\n  handleActionChange(action_id){\n    const action_template = this.findActionTemplate(action_id)\n    this.setState({action_template, action: merge(this.state.action, {action: action_id})})\n    this.updateFormFields(action_template, this.state.service)\n  },\n  updateFormFields(action_template, service){\n    if (!action_template)\n      this.setState({form_fields: []})\n    else{\n      let form_fields = action_template.extra.call.params\n\n      if (service != undefined){\n        const service_params = service.fields.map( (f) => f.name )\n        form_fields = form_fields.filter( (p) => service_params.indexOf(p.name)<0 )\n      }\n      this.setState({form_fields})\n    }\n  },\n  handleServiceChange(service_id){\n    const service = this.findService(service_id)\n    this.setState({service, action: merge(this.state.action, {service: service_id})})\n    this.updateFormFields(this.state.action_template, service)\n  },\n  findActionTemplate(action_id){\n    return this.state.actions.find( ac => ac.id == action_id )\n  },\n  findService(service_id){\n    return this.state.services.find( (s) => s.uuid == service_id )\n  },\n  handleAcceptChanges(){\n    console.log(this.state.action)\n    this.props.onAccept(this.state.action)\n  },\n  updateAction(changes){\n    console.log(changes)\n    this.setState({action: merge(this.state.action, changes)})\n  },\n  render(){\n    if (!this.state.actions || !this.state.services)\n      return (\n        <Loading>Actions and services</Loading>\n      )\n    return (\n      <View {...this.state} {...this.props}\n        onActionChange={this.handleActionChange}\n        onServiceChange={this.handleServiceChange}\n        onUpdateActionParams={(params) => this.updateAction({params})}\n        onAccept={this.handleAcceptChanges}\n        onUpdateDescription={(description) => this.updateAction({description})}\n        onUpdateName={(name) => this.updateAction({name})}\n        onUpdateConfirmation={(confirmation) => this.updateAction({confirmation})}\n        onStar={(star) => this.updateAction({star})}\n        onUpdateIcon={(icon) => this.updateAction({icon})}\n        />\n    )\n  }\n})\n\nexport default EditActionModel\n","const {React, plugin, Flash} = Serverboards\nimport View from '../views/list'\nimport EditAction from './editaction'\nconst {Modal} = Serverboards.Components.Modal\nconst {merge} = Serverboards.utils\n\nconst extra={\n  empty_action: {\n    id: undefined,\n    action: undefined,\n    description: \"\",\n    params: {  },\n    name: \"\",\n    confirmation: false\n  },\n}\nconst ListModel=React.createClass({\n  getInitialState(){\n    return {\n      edit: undefined,\n      actions: undefined\n    }\n  },\n  componentDidMount(){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"list_actions\", {}).then( actions => {\n      console.log(\"got actions: %o\", actions)\n      this.setState({actions})\n    })\n  },\n  handleRunAction(a){\n    if (a.confirmation){\n      if (!confirm(a.name + \"\\n\\n\" + (a.description || a.confirm || \"Are you sure?\")))\n        return;\n    }\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"run_action\", [a.id]).then( () => {\n      Flash.info(\"Sucefully run action \"+a.name)\n    }).catch( e => Flash.error(e) )\n  },\n  handleConfigureAction(a){\n    this.setState({edit: a})\n  },\n  handleAcceptEditAction(a){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"update_action\", [a]).then( (id) => {\n      const actions = this.state.actions.map( (ac) => {\n        if (ac.id == a.id){\n          return a\n        }\n        return ac\n      })\n      this.setState({edit: undefined, actions})\n      Flash.info(\"Action updated\")\n    }).catch( e => Flash.error(e) )\n  },\n  handleCloseEditAction(){\n    this.setState({edit: undefined})\n  },\n  handleOpenAddAction(){\n    this.setState({edit: \"add\"})\n  },\n  handleAcceptAddAction(a){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"add_action\", [a]).then( (id) => {\n      Flash.info(\"Action added\")\n      this.setState({actions: this.state.actions.concat(merge(a, {id})), edit: undefined})\n    }).catch( e => Flash.error(e) )\n  },\n  render(){\n    if (this.state.edit){\n      if (this.state.edit==\"add\")\n        return (\n          <EditAction action={extra.empty_action} onAccept={this.handleAcceptAddAction} services={this.props.services} onClose={this.handleCloseEditAction}/>\n        )\n      else\n        return (\n          <EditAction action={this.state.edit} onAccept={this.handleAcceptEditAction} services={this.props.services} onClose={this.handleCloseEditAction}/>\n        )\n    }\n    return (\n      <View {...this.props} {...this.state}\n        onRunAction={this.handleRunAction}\n        onConfigureAction={this.handleConfigureAction}\n        onOpenAddAction={this.handleOpenAddAction}\n        />\n    )\n  }\n})\n\nexport default ListModel\n","const {rpc, React} = Serverboards\nlet plugin_id=\"serverboards.optional.quickactions\"\nimport ActionList from './model/list'\n\nfunction View(props){\n  return (\n    <ActionList serverboard={props.serverboard.shortname} services={props.serverboard.services}/>\n  )\n}\n\nfunction main(el, config){\n  Serverboards.ReactDOM.render(<View {...config}/>, el)\n  plugin_id = config.plugin\n\n  console.log(config)\n  return function(){\n    Serverboards.ReactDOM.unmountComponentAtNode(el)\n  }\n}\n\nServerboards.add_screen(`${plugin_id}/editor`, main)\n"],"names":["Serverboards","React","random_color","utils","service_id","services","find","uuid","name","props","action","a","description","onRunAction","service","icon","onConfigureAction","maxWidth","display","paddingLeft","find_service","actions","sort","b","localeCompare","paddingTop","map","id","onOpenAddAction","GenericForm","Components","EditAction","createClass","componentDidMount","$","refs","star","checkbox","onChecked","self","onStar","onUnchecked","onUpdateConfirmation","confirmation","form","dropdown","render","ev","onUpdateName","target","value","onUpdateDescription","onUpdateIcon","onServiceChange","s","onActionChange","form_fields","params","onUpdateActionParams","marginTop","onAccept","onClose","cache","Loading","merge","EditActionModel","getInitialState","console","log","action_template","action_catalog","then","action_id","setState","updateFormFields","state","handleActionChange","findActionTemplate","extra","call","fields","f","filter","p","indexOf","handleServiceChange","findService","handleAcceptChanges","updateAction","changes","View","plugin","Flash","empty_action","ListModel","edit","start_call_stop","handleRunAction","confirm","info","catch","error","e","handleConfigureAction","handleAcceptEditAction","ac","handleCloseEditAction","handleOpenAddAction","handleAcceptAddAction","concat","rpc","plugin_id","ActionList","serverboard","shortname","el","config","ReactDOM","unmountComponentAtNode","add_screen","main"],"mappings":"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"}