{"version":3,"file":null,"sources":["../src/views/list.js","../src/views/editaction.js","../src/model/editaction.js","../src/model/list.js","../src/editor.js"],"sourcesContent":["const {React} = Serverboards\nconst random_color = Serverboards.utils.random_color\n\nfunction find_service(service_id, services){\n  return services.find(s => s.uuid == service_id) || {name: service_id}\n}\n\nfunction Action(props){\n  const a = props.action\n  return (\n    <div className=\"card\" style={{maxWidth: 200}} data-tooltip={a.description}>\n      <a className=\"content\" onClick={() => props.onRunAction(a)} style={{textAlign:\"center\"}}>\n          <div style={{paddingTop: 20}}>\n            <i className={`ui huge blue icon ${a.icon || \"hand pointer\"}`}/>\n          </div>\n          <div className=\"ui small header\">\n            {a.name}\n          </div>\n          <div>\n            {a.service ? (\n              <span className=\"ui meta\">{find_service(a.service, props.services).name}</span>\n            ) : null}\n          </div>\n      </a>\n      <div className=\"extra content\" style={{justifyContent: \"flex-end\", display: \"flex\"}}>\n        <a onClick={(ev) => {ev.preventDefault(); props.onConfigureAction(a)}}>\n          <i className=\"ui icon edit\"/>\n        </a>\n      </div>\n    </div>\n  )\n}\n\nfunction View(props){\n  const actions = (props.actions || []).sort( (a,b) => a.name.localeCompare(b.name) )\n  return (\n    <div>\n      <div className=\"ui top secondary header menu\">\n        <h3>Actions</h3>\n      </div>\n      <div className=\"ui container\" style={{paddingTop: 30}}>\n        <div className=\"ui cards\">\n          {(actions || []).map( (a) => (\n            <Action key={a.id} action={a} {...props}/>\n          ))}\n        </div>\n      </div>\n      <a onClick={props.onOpenAddAction} className=\"ui massive button _add icon floating yellow\">\n        <i className=\"add icon\"></i>\n      </a>\n    </div>\n  )\n}\n\nexport default View\n","const React = Serverboards.React\nconst {GenericForm} = Serverboards.Components\n\nconst EditAction = React.createClass({\n  componentDidMount(){\n    let self = this\n    $(this.refs.star).checkbox({\n      onChecked(){\n        self.props.onStar(true)\n      },\n      onUnchecked(){\n        self.props.onUpdateConfirmation(false)\n      }\n    })\n    $(this.refs.confirmation).checkbox({\n      onChecked(){\n        self.props.onUpdateConfirmation(true)\n      },\n      onUnchecked(){\n        self.props.onUpdateConfirmation(false)\n      }\n    })\n    $(this.refs.form).find('.dropdown').dropdown()\n  },\n  render(){\n    const props=this.props\n    const action = props.action\n    return (\n      <div ref=\"form\">\n        <div className=\"ui top secondary header menu\">\n          <h3>Edit {action.name || \"action\"}</h3>\n          <div className=\"right menu\" style={{alignItems: \"center\", paddingRight: 20}}>\n            <div ref=\"confirmation\" className=\"field ui toggle checkbox\" style={{paddingRight: 10}}>\n              <input type=\"checkbox\" defaultChecked={action.confirmation}  onChange={(ev) => props.onUpdateConfirmation(ev.target.value)}/>\n              <label>Require confirmation</label>\n            </div>\n            <div ref=\"star\" className=\"field ui toggle checkbox\">\n              <input type=\"checkbox\" defaultChecked={action.star}  onChange={(ev) => props.onStar(ev.target.value)}/>\n              <label>Show at widget</label>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"ui text container\">\n          <div className=\"ui form\">\n            <div className=\"four fields\">\n              <div className=\"field\">\n                <label>Icon Name</label>\n\n                <div style={{padding: 40, textAlign: \"center\", border: \"1px solid #aaa\", margin: \"auto\", marginBottom: 10}}>\n                  <i className={`ui huge blue icon ${action.icon || \"help\"}`}/>\n                </div>\n\n                <input type=\"text\" placeholder=\"Icon name\" defaultValue={action.icon} onChange={(ev) => props.onUpdateIcon(ev.target.value)}/>\n              </div>\n              <div className=\"field\">\n                <label style={{paddingTop: 20}}>Tip:</label>\n                <div className=\"ui meta\">\n                  Visit <a target=\"_blank\" href=\"http://semantic-ui.com/elements/icon.html\">\n                  Semantic UI icon{\"'\"}s selection</a> and copy the name of your choice.\n                  Then paste it in the input bellow.\n                </div>\n              </div>\n            </div>\n\n            <div className=\"two fields\">\n              <div className=\"field\">\n                <label>Name</label>\n                <input type=\"text\" defaultValue={action.name} onChange={(ev) => props.onUpdateName(ev.target.value)}/>\n              </div>\n              <div className=\"field\">\n                <label>Description</label>\n                <textarea style={{minHeight: \"4em\", height: \"4em\"}} onChange={(ev) => props.onUpdateDescription(ev.target.value)}>{action.description}</textarea>\n              </div>\n            </div>\n            <div className=\"two fields\">\n              <div className=\"field\">\n                <label>Service</label>\n                <select className=\"ui dropdown search\" defaultValue={action.service} onChange={(ev) => props.onServiceChange(ev.target.value)}>\n                  <option value=\".\">No service selected</option>\n                  {props.services.map( (s) => (\n                    <option key={s.uuid} value={s.uuid}>{s.name}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"field\">\n                <label>Action</label>\n                <select className=\"ui dropdown search\" defaultValue={action.action} onChange={(ev) => props.onActionChange(ev.target.value)}>\n                  <option value=\".\">No action selected</option>\n                  {props.actions.map( (s) => (\n                    <option key={s.id} value={s.id}>{s.name}</option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            <GenericForm fields={props.form_fields} data={action.params} updateForm={props.onUpdateActionParams}/>\n          </div>\n\n          <div className=\"ui buttons\" style={{marginTop: 30}}>\n            <button onClick={props.onAccept} className=\"ui yellow button\">Update quick action</button>\n            <button onClick={props.onClose} className=\"ui grey button\">Cancel</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n})\n\nexport default EditAction\n","const {React, cache} = Serverboards\nimport View from '../views/editaction'\nconst {Loading} = Serverboards.Components\nconst merge = Serverboards.utils.merge\n\nconst EditActionModel = React.createClass({\n  getInitialState(){\n    console.log(this)\n    const services = this.props.services\n    const service_id = this.props.action.service\n    const service = services.find( (s) => s.uuid == service_id )\n\n    return {\n      actions: undefined,\n      services,\n      action: merge(this.props.action, {}),\n      action_template: undefined,\n      service,\n      form_fields: [],\n    }\n  },\n  componentDidMount(){\n    const self = this\n    cache.action_catalog().then( actions => {\n      const action_id = self.props.action.action\n      const action_template=actions.find( ac => ac.id == action_id )\n      self.setState({ actions, action_template })\n      return action_template\n    }).then( (action_template) => {\n      self.updateFormFields(action_template, this.state.service)\n    })\n  },\n  handleActionChange(action_id){\n    const action_template = this.findActionTemplate(action_id)\n    this.setState({action_template, action: merge(this.state.action, {action: action_id})})\n    this.updateFormFields(action_template, this.state.service)\n  },\n  updateFormFields(action_template, service){\n    if (!action_template)\n      this.setState({form_fields: []})\n    else{\n      let form_fields = action_template.extra.call.params\n\n      if (service != undefined){\n        const service_params = service.fields.map( (f) => f.name )\n        form_fields = form_fields.filter( (p) => service_params.indexOf(p.name)<0 )\n      }\n      this.setState({form_fields})\n    }\n  },\n  handleServiceChange(service_id){\n    const service = this.findService(service_id)\n    this.setState({service, action: merge(this.state.action, {service: service_id})})\n    this.updateFormFields(this.state.action_template, service)\n  },\n  findActionTemplate(action_id){\n    return this.state.actions.find( ac => ac.id == action_id )\n  },\n  findService(service_id){\n    return this.state.services.find( (s) => s.uuid == service_id )\n  },\n  handleAcceptChanges(){\n    console.log(this.state.action)\n    this.props.onAccept(this.state.action)\n  },\n  updateAction(changes){\n    console.log(changes)\n    this.setState({action: merge(this.state.action, changes)})\n  },\n  render(){\n    if (!this.state.actions || !this.state.services)\n      return (\n        <Loading>Actions and services</Loading>\n      )\n    return (\n      <View {...this.props} {...this.state} \n        onActionChange={this.handleActionChange}\n        onServiceChange={this.handleServiceChange}\n        onUpdateActionParams={(params) => this.updateAction({params})}\n        onAccept={this.handleAcceptChanges}\n        onUpdateDescription={(description) => this.updateAction({description})}\n        onUpdateName={(name) => this.updateAction({name})}\n        onUpdateConfirmation={(confirmation) => this.updateAction({confirmation})}\n        onStar={(star) => this.updateAction({star})}\n        onUpdateIcon={(icon) => this.updateAction({icon})}\n        />\n    )\n  }\n})\n\nexport default EditActionModel\n","const {React, plugin, Flash} = Serverboards\nimport View from '../views/list'\nimport EditAction from './editaction'\nconst {Modal} = Serverboards.Components.Modal\nconst {merge} = Serverboards.utils\n\nconst extra={\n  empty_action: {\n    id: undefined,\n    action: undefined,\n    description: \"\",\n    params: {  },\n    name: \"\",\n    confirmation: false\n  },\n}\nconst ListModel=React.createClass({\n  getInitialState(){\n    return {\n      edit: undefined,\n      actions: undefined\n    }\n  },\n  componentDidMount(){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"list_actions\", {}).then( actions => {\n      console.log(\"got actions: %o\", actions)\n      this.setState({actions})\n    })\n  },\n  handleRunAction(a){\n    if (a.confirmation){\n      if (!confirm(a.name + \"\\n\\n\" + (a.description || a.confirm || \"Are you sure?\")))\n        return;\n    }\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"run_action\", [a.id]).then( () => {\n      Flash.info(\"Sucefully run action \"+a.name)\n    }).catch( e => Flash.error(e) )\n  },\n  handleConfigureAction(a){\n    this.setState({edit: a})\n  },\n  handleAcceptEditAction(a){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"update_action\", [a]).then( (id) => {\n      const actions = this.state.actions.map( (ac) => {\n        if (ac.id == a.id){\n          return a\n        }\n        return ac\n      })\n      this.setState({edit: undefined, actions})\n      Flash.info(\"Action updated\")\n    }).catch( e => Flash.error(e) )\n  },\n  handleCloseEditAction(){\n    this.setState({edit: undefined})\n  },\n  handleOpenAddAction(){\n    this.setState({edit: \"add\"})\n  },\n  handleAcceptAddAction(a){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"add_action\", [a]).then( (id) => {\n      Flash.info(\"Action added\")\n      this.setState({actions: this.state.actions.concat(merge(a, {id})), edit: undefined})\n    }).catch( e => Flash.error(e) )\n  },\n  render(){\n    if (this.state.edit){\n      if (this.state.edit==\"add\")\n        return (\n          <EditAction action={extra.empty_action} onAccept={this.handleAcceptAddAction} services={this.props.services} onClose={this.handleCloseEditAction}/>\n        )\n      else\n        return (\n          <EditAction action={this.state.edit} onAccept={this.handleAcceptEditAction} services={this.props.services} onClose={this.handleCloseEditAction}/>\n        )\n    }\n    return (\n      <View {...this.props} {...this.state}\n        onRunAction={this.handleRunAction}\n        onConfigureAction={this.handleConfigureAction}\n        onOpenAddAction={this.handleOpenAddAction}\n        />\n    )\n  }\n})\n\nexport default ListModel\n","const {rpc, React} = Serverboards\nlet plugin_id=\"serverboards.optional.quickactions\"\nimport ActionList from './model/list'\n\nfunction View(props){\n  return (\n    <ActionList serverboard={props.serverboard.shortname} services={props.serverboard.services}/>\n  )\n}\n\nfunction main(el, config){\n  Serverboards.ReactDOM.render(<View {...config}/>, el)\n  plugin_id = config.plugin\n\n  console.log(config)\n  return function(){\n    Serverboards.ReactDOM.unmountComponentAtNode(el)\n  }\n}\n\nServerboards.add_screen(`${plugin_id}/editor`, main)\n"],"names":["Serverboards","React","random_color","service_id","services","find","uuid","name","props","action","maxWidth","a","description","onRunAction","textAlign","paddingTop","icon","service","find_service","justifyContent","display","ev","preventDefault","onConfigureAction","actions","sort","b","localeCompare","map","id","onOpenAddAction","GenericForm","Components","EditAction","createClass","componentDidMount","$","refs","star","checkbox","onChecked","self","onStar","onUnchecked","onUpdateConfirmation","confirmation","form","dropdown","render","alignItems","paddingRight","target","value","padding","border","margin","marginBottom","onUpdateIcon","onUpdateName","minHeight","height","onUpdateDescription","onServiceChange","s","onActionChange","form_fields","params","onUpdateActionParams","marginTop","onAccept","onClose","cache","Loading","merge","utils","EditActionModel","getInitialState","console","log","action_template","action_catalog","then","action_id","setState","updateFormFields","state","handleActionChange","findActionTemplate","extra","call","fields","f","filter","p","indexOf","handleServiceChange","findService","handleAcceptChanges","updateAction","changes","View","plugin","Flash","empty_action","ListModel","edit","start_call_stop","handleRunAction","confirm","info","catch","error","e","handleConfigureAction","handleAcceptEditAction","ac","handleCloseEditAction","handleOpenAddAction","handleAcceptAddAction","concat","rpc","plugin_id","ActionList","serverboard","shortname","el","config","ReactDOM","unmountComponentAtNode","add_screen","main"],"mappings":"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"}