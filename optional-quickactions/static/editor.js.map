{"version":3,"file":null,"sources":["../src/views/list.js","../src/views/editaction.js","../src/model/editaction.js","../src/model/list.js","../src/editor.js"],"sourcesContent":["const {React} = Serverboards\nconst random_color = Serverboards.utils.random_color\n\nfunction find_service(service_id, services){\n  return services.find(s => s.uuid == service_id) || {name: service_id}\n}\n\nfunction Action(props){\n  const a = props.action\n  return (\n    <div className=\"card\" style={{maxWidth: 200}} data-tooltip={a.description}>\n      <a className=\"content\" onClick={() => props.onRunAction(a)} style={{textAlign:\"center\"}}>\n          <div style={{paddingTop: 20}}>\n            <i className={`ui huge blue icon ${a.icon || \"hand pointer\"}`}/>\n          </div>\n          <div className=\"ui small header\">\n            {a.name}\n          </div>\n          <div>\n            {a.service ? (\n              <span className=\"ui meta\">{find_service(a.service, props.services).name}</span>\n            ) : null}\n          </div>\n      </a>\n      <div className=\"extra content\" style={{justifyContent: \"flex-end\", display: \"flex\"}}>\n        <a onClick={(ev) => {ev.preventDefault(); props.onConfigureAction(a)}}>\n          <i className=\"ui icon edit\"/>\n        </a>\n      </div>\n    </div>\n  )\n}\n\nfunction View(props){\n  const actions = (props.actions || []).sort( (a,b) => a.name.localeCompare(b.name) )\n  return (\n    <div>\n      <div className=\"ui top header menu\">\n        <h4>Actions</h4>\n      </div>\n      <div className=\"ui container\" style={{paddingTop: 30}}>\n        <div className=\"ui cards\">\n          {(actions || []).map( (a) => (\n            <Action key={a.id} action={a} {...props}/>\n          ))}\n        </div>\n      </div>\n      <a onClick={props.onOpenAddAction} className=\"ui massive button _add icon floating yellow\">\n        <i className=\"add icon\"></i>\n      </a>\n    </div>\n  )\n}\n\nexport default View\n","const React = Serverboards.React\nconst {GenericForm} = Serverboards.Components\n\nconst EditAction = React.createClass({\n  componentDidMount(){\n    let self = this\n    $(this.refs.star).checkbox({\n      onChecked(){\n        self.props.onStar(true)\n      },\n      onUnchecked(){\n        self.props.onUpdateConfirmation(false)\n      }\n    })\n    $(this.refs.confirmation).checkbox({\n      onChecked(){\n        self.props.onUpdateConfirmation(true)\n      },\n      onUnchecked(){\n        self.props.onUpdateConfirmation(false)\n      }\n    })\n    $(this.refs.form).find('.dropdown').dropdown()\n  },\n  render(){\n    const props=this.props\n    const action = props.action\n    return (\n      <div>\n        <div className=\"ui header menu top\">\n          <h4>Edit action</h4>\n        </div>\n\n        <div className=\"ui container\">\n          <div className=\"ui form\" ref=\"form\">\n            <div className=\"field\">\n              <label>Name</label>\n              <input type=\"text\" defaultValue={action.name} onChange={(ev) => props.onUpdateName(ev.target.value)}/>\n            </div>\n            <div className=\"field\">\n              <label>Description</label>\n              <textarea onChange={(ev) => props.onUpdateDescription(ev.target.value)}>{action.description}</textarea>\n            </div>\n            <div ref=\"confirmation\" className=\"field ui checkbox\">\n              <input type=\"checkbox\" defaultChecked={action.confirmation}  onChange={(ev) => props.onUpdateConfirmation(ev.target.value)}/>\n              <label>Require confirmation</label>\n            </div>\n            <div ref=\"star\" className=\"field ui checkbox\">\n              <input type=\"checkbox\" defaultChecked={action.star}  onChange={(ev) => props.onStar(ev.target.value)}/>\n              <label>Show at widget</label>\n            </div>\n            <div className=\"field\">\n              <label>Icon Name</label>\n              <div className=\"ui meta\">Check for icons at <a target=\"_blank\" href=\"http://semantic-ui.com/elements/icon.html\">{\"http://semantic-ui.com/elements/icon.html\"}</a></div>\n              <input type=\"text\" defaultValue={action.icon} onChange={(ev) => props.onUpdateIcon(ev.target.value)}/>\n            </div>\n            <div className=\"field\">\n              <label>Service</label>\n              <select className=\"ui dropdown search\" defaultValue={action.service} onChange={(ev) => props.onServiceChange(ev.target.value)}>\n                <option value=\".\">No service selected</option>\n                {props.services.map( (s) => (\n                  <option key={s.uuid} value={s.uuid}>{s.name}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"field\">\n              <label>Action</label>\n              <select className=\"ui dropdown search\" defaultValue={action.action} onChange={(ev) => props.onActionChange(ev.target.value)}>\n                <option value=\".\">No action selected</option>\n                {props.actions.map( (s) => (\n                  <option key={s.id} value={s.id}>{s.name}</option>\n                ))}\n              </select>\n            </div>\n            <GenericForm fields={props.form_fields} data={action.params} updateForm={props.onUpdateActionParams}/>\n          </div>\n\n          <div className=\"ui buttons\" style={{marginTop: 30}}>\n            <button onClick={props.onAccept} className=\"ui yellow button\">Update quick action</button>\n            <button onClick={props.onClose} className=\"ui grey button\">Cancel</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n})\n\nexport default EditAction\n","const {React, cache} = Serverboards\nimport View from '../views/editaction'\nconst {Loading} = Serverboards.Components\nconst merge = Serverboards.utils.merge\n\nconst EditActionModel = React.createClass({\n  getInitialState(){\n    console.log(this)\n    const services = this.props.services\n    const service_id = this.props.action.service\n    const service = services.find( (s) => s.uuid == service_id )\n\n    return {\n      actions: undefined,\n      services,\n      action: merge(this.props.action, {}),\n      action_template: undefined,\n      service,\n      form_fields: [],\n    }\n  },\n  componentDidMount(){\n    const self = this\n    cache.action_catalog().then( actions => {\n      const action_id = self.props.action.action\n      const action_template=actions.find( ac => ac.id == action_id )\n      self.setState({ actions, action_template })\n      return action_template\n    }).then( (action_template) => {\n      self.updateFormFields(action_template, this.state.service)\n    })\n  },\n  handleActionChange(action_id){\n    const action_template = this.findActionTemplate(action_id)\n    this.setState({action_template, action: merge(this.state.action, {action: action_id})})\n    this.updateFormFields(action_template, this.state.service)\n  },\n  updateFormFields(action_template, service){\n    if (!action_template)\n      this.setState({form_fields: []})\n    else{\n      let form_fields = action_template.extra.call.params\n\n      if (service != undefined){\n        const service_params = service.fields.map( (f) => f.name )\n        form_fields = form_fields.filter( (p) => service_params.indexOf(p.name)<0 )\n      }\n      this.setState({form_fields})\n    }\n  },\n  handleServiceChange(service_id){\n    const service = this.findService(service_id)\n    this.setState({service, action: merge(this.state.action, {service: service_id})})\n    this.updateFormFields(this.state.action_template, service)\n  },\n  findActionTemplate(action_id){\n    return this.state.actions.find( ac => ac.id == action_id )\n  },\n  findService(service_id){\n    return this.state.services.find( (s) => s.uuid == service_id )\n  },\n  handleAcceptChanges(){\n    console.log(this.state.action)\n    this.props.onAccept(this.state.action)\n  },\n  updateAction(changes){\n    console.log(changes)\n    this.setState({action: merge(this.state.action, changes)})\n  },\n  render(){\n    if (!this.state.actions || !this.state.services)\n      return (\n        <Loading>Actions and services</Loading>\n      )\n    return (\n      <View {...this.state} {...this.props}\n        onActionChange={this.handleActionChange}\n        onServiceChange={this.handleServiceChange}\n        onUpdateActionParams={(params) => this.updateAction({params})}\n        onAccept={this.handleAcceptChanges}\n        onUpdateDescription={(description) => this.updateAction({description})}\n        onUpdateName={(name) => this.updateAction({name})}\n        onUpdateConfirmation={(confirmation) => this.updateAction({confirmation})}\n        onStar={(star) => this.updateAction({star})}\n        onUpdateIcon={(icon) => this.updateAction({icon})}\n        />\n    )\n  }\n})\n\nexport default EditActionModel\n","const {React, plugin, Flash} = Serverboards\nimport View from '../views/list'\nimport EditAction from './editaction'\nconst {Modal} = Serverboards.Components.Modal\nconst {merge} = Serverboards.utils\n\nconst extra={\n  empty_action: {\n    id: undefined,\n    action: undefined,\n    description: \"\",\n    params: {  },\n    name: \"\",\n    confirmation: false\n  },\n}\nconst ListModel=React.createClass({\n  getInitialState(){\n    return {\n      edit: undefined,\n      actions: undefined\n    }\n  },\n  componentDidMount(){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"list_actions\", {}).then( actions => {\n      console.log(\"got actions: %o\", actions)\n      this.setState({actions})\n    })\n  },\n  handleRunAction(a){\n    if (a.confirmation){\n      if (!confirm(a.name + \"\\n\\n\" + (a.description || a.confirm || \"Are you sure?\")))\n        return;\n    }\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"run_action\", [a.id]).then( () => {\n      Flash.info(\"Sucefully run action \"+a.name)\n    }).catch( e => Flash.error(e) )\n  },\n  handleConfigureAction(a){\n    this.setState({edit: a})\n  },\n  handleAcceptEditAction(a){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"update_action\", [a]).then( (id) => {\n      const actions = this.state.actions.map( (ac) => {\n        if (ac.id == a.id){\n          return a\n        }\n        return ac\n      })\n      this.setState({edit: undefined, actions})\n      Flash.info(\"Action updated\")\n    }).catch( e => Flash.error(e) )\n  },\n  handleCloseEditAction(){\n    this.setState({edit: undefined})\n  },\n  handleOpenAddAction(){\n    this.setState({edit: \"add\"})\n  },\n  handleAcceptAddAction(a){\n    plugin.start_call_stop(`serverboards.optional.quickactions/command`, \"add_action\", [a]).then( (id) => {\n      Flash.info(\"Action added\")\n      this.setState({actions: this.state.actions.concat(merge(a, {id})), edit: undefined})\n    }).catch( e => Flash.error(e) )\n  },\n  render(){\n    if (this.state.edit){\n      if (this.state.edit==\"add\")\n        return (\n          <EditAction action={extra.empty_action} onAccept={this.handleAcceptAddAction} services={this.props.services} onClose={this.handleCloseEditAction}/>\n        )\n      else\n        return (\n          <EditAction action={this.state.edit} onAccept={this.handleAcceptEditAction} services={this.props.services} onClose={this.handleCloseEditAction}/>\n        )\n    }\n    return (\n      <View {...this.props} {...this.state}\n        onRunAction={this.handleRunAction}\n        onConfigureAction={this.handleConfigureAction}\n        onOpenAddAction={this.handleOpenAddAction}\n        />\n    )\n  }\n})\n\nexport default ListModel\n","const {rpc, React} = Serverboards\nlet plugin_id=\"serverboards.optional.quickactions\"\nimport ActionList from './model/list'\n\nfunction View(props){\n  return (\n    <ActionList serverboard={props.serverboard.shortname} services={props.serverboard.services}/>\n  )\n}\n\nfunction main(el, config){\n  Serverboards.ReactDOM.render(<View {...config}/>, el)\n  plugin_id = config.plugin\n\n  console.log(config)\n  return function(){\n    Serverboards.ReactDOM.unmountComponentAtNode(el)\n  }\n}\n\nServerboards.add_screen(`${plugin_id}/editor`, main)\n"],"names":["Serverboards","React","random_color","service_id","services","find","uuid","name","props","action","maxWidth","a","description","onRunAction","textAlign","paddingTop","icon","service","find_service","justifyContent","display","ev","preventDefault","onConfigureAction","actions","sort","b","localeCompare","map","id","onOpenAddAction","GenericForm","Components","EditAction","createClass","componentDidMount","$","refs","star","checkbox","onChecked","self","onStar","onUnchecked","onUpdateConfirmation","confirmation","form","dropdown","render","onUpdateName","target","value","onUpdateDescription","onUpdateIcon","onServiceChange","s","onActionChange","form_fields","params","onUpdateActionParams","marginTop","onAccept","onClose","cache","Loading","merge","utils","EditActionModel","getInitialState","console","log","action_template","action_catalog","then","action_id","setState","updateFormFields","state","handleActionChange","findActionTemplate","extra","call","fields","f","filter","p","indexOf","handleServiceChange","findService","handleAcceptChanges","updateAction","changes","View","plugin","Flash","empty_action","ListModel","edit","start_call_stop","handleRunAction","confirm","info","catch","error","e","handleConfigureAction","handleAcceptEditAction","ac","handleCloseEditAction","handleOpenAddAction","handleAcceptAddAction","concat","rpc","plugin_id","ActionList","serverboard","shortname","el","config","ReactDOM","unmountComponentAtNode","add_screen","main"],"mappings":"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"}